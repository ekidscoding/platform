{"version":3,"file":"703.9b82d49f346661b5200f.js","mappings":"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","sources":["webpack://react-editor/./node_modules/comlink/dist/esm/comlink.mjs","webpack://react-editor/./node_modules/react-py/dist/workers/python-worker.js"],"sourcesContent":["/**\n * @license\n * Copyright 2019 Google LLC\n * SPDX-License-Identifier: Apache-2.0\n */\nconst proxyMarker = Symbol(\"Comlink.proxy\");\nconst createEndpoint = Symbol(\"Comlink.endpoint\");\nconst releaseProxy = Symbol(\"Comlink.releaseProxy\");\nconst finalizer = Symbol(\"Comlink.finalizer\");\nconst throwMarker = Symbol(\"Comlink.thrown\");\nconst isObject = (val) => (typeof val === \"object\" && val !== null) || typeof val === \"function\";\n/**\n * Internal transfer handle to handle objects marked to proxy.\n */\nconst proxyTransferHandler = {\n    canHandle: (val) => isObject(val) && val[proxyMarker],\n    serialize(obj) {\n        const { port1, port2 } = new MessageChannel();\n        expose(obj, port1);\n        return [port2, [port2]];\n    },\n    deserialize(port) {\n        port.start();\n        return wrap(port);\n    },\n};\n/**\n * Internal transfer handler to handle thrown exceptions.\n */\nconst throwTransferHandler = {\n    canHandle: (value) => isObject(value) && throwMarker in value,\n    serialize({ value }) {\n        let serialized;\n        if (value instanceof Error) {\n            serialized = {\n                isError: true,\n                value: {\n                    message: value.message,\n                    name: value.name,\n                    stack: value.stack,\n                },\n            };\n        }\n        else {\n            serialized = { isError: false, value };\n        }\n        return [serialized, []];\n    },\n    deserialize(serialized) {\n        if (serialized.isError) {\n            throw Object.assign(new Error(serialized.value.message), serialized.value);\n        }\n        throw serialized.value;\n    },\n};\n/**\n * Allows customizing the serialization of certain values.\n */\nconst transferHandlers = new Map([\n    [\"proxy\", proxyTransferHandler],\n    [\"throw\", throwTransferHandler],\n]);\nfunction isAllowedOrigin(allowedOrigins, origin) {\n    for (const allowedOrigin of allowedOrigins) {\n        if (origin === allowedOrigin || allowedOrigin === \"*\") {\n            return true;\n        }\n        if (allowedOrigin instanceof RegExp && allowedOrigin.test(origin)) {\n            return true;\n        }\n    }\n    return false;\n}\nfunction expose(obj, ep = globalThis, allowedOrigins = [\"*\"]) {\n    ep.addEventListener(\"message\", function callback(ev) {\n        if (!ev || !ev.data) {\n            return;\n        }\n        if (!isAllowedOrigin(allowedOrigins, ev.origin)) {\n            console.warn(`Invalid origin '${ev.origin}' for comlink proxy`);\n            return;\n        }\n        const { id, type, path } = Object.assign({ path: [] }, ev.data);\n        const argumentList = (ev.data.argumentList || []).map(fromWireValue);\n        let returnValue;\n        try {\n            const parent = path.slice(0, -1).reduce((obj, prop) => obj[prop], obj);\n            const rawValue = path.reduce((obj, prop) => obj[prop], obj);\n            switch (type) {\n                case \"GET\" /* MessageType.GET */:\n                    {\n                        returnValue = rawValue;\n                    }\n                    break;\n                case \"SET\" /* MessageType.SET */:\n                    {\n                        parent[path.slice(-1)[0]] = fromWireValue(ev.data.value);\n                        returnValue = true;\n                    }\n                    break;\n                case \"APPLY\" /* MessageType.APPLY */:\n                    {\n                        returnValue = rawValue.apply(parent, argumentList);\n                    }\n                    break;\n                case \"CONSTRUCT\" /* MessageType.CONSTRUCT */:\n                    {\n                        const value = new rawValue(...argumentList);\n                        returnValue = proxy(value);\n                    }\n                    break;\n                case \"ENDPOINT\" /* MessageType.ENDPOINT */:\n                    {\n                        const { port1, port2 } = new MessageChannel();\n                        expose(obj, port2);\n                        returnValue = transfer(port1, [port1]);\n                    }\n                    break;\n                case \"RELEASE\" /* MessageType.RELEASE */:\n                    {\n                        returnValue = undefined;\n                    }\n                    break;\n                default:\n                    return;\n            }\n        }\n        catch (value) {\n            returnValue = { value, [throwMarker]: 0 };\n        }\n        Promise.resolve(returnValue)\n            .catch((value) => {\n            return { value, [throwMarker]: 0 };\n        })\n            .then((returnValue) => {\n            const [wireValue, transferables] = toWireValue(returnValue);\n            ep.postMessage(Object.assign(Object.assign({}, wireValue), { id }), transferables);\n            if (type === \"RELEASE\" /* MessageType.RELEASE */) {\n                // detach and deactive after sending release response above.\n                ep.removeEventListener(\"message\", callback);\n                closeEndPoint(ep);\n                if (finalizer in obj && typeof obj[finalizer] === \"function\") {\n                    obj[finalizer]();\n                }\n            }\n        })\n            .catch((error) => {\n            // Send Serialization Error To Caller\n            const [wireValue, transferables] = toWireValue({\n                value: new TypeError(\"Unserializable return value\"),\n                [throwMarker]: 0,\n            });\n            ep.postMessage(Object.assign(Object.assign({}, wireValue), { id }), transferables);\n        });\n    });\n    if (ep.start) {\n        ep.start();\n    }\n}\nfunction isMessagePort(endpoint) {\n    return endpoint.constructor.name === \"MessagePort\";\n}\nfunction closeEndPoint(endpoint) {\n    if (isMessagePort(endpoint))\n        endpoint.close();\n}\nfunction wrap(ep, target) {\n    const pendingListeners = new Map();\n    ep.addEventListener(\"message\", function handleMessage(ev) {\n        const { data } = ev;\n        if (!data || !data.id) {\n            return;\n        }\n        const resolver = pendingListeners.get(data.id);\n        if (!resolver) {\n            return;\n        }\n        try {\n            resolver(data);\n        }\n        finally {\n            pendingListeners.delete(data.id);\n        }\n    });\n    return createProxy(ep, pendingListeners, [], target);\n}\nfunction throwIfProxyReleased(isReleased) {\n    if (isReleased) {\n        throw new Error(\"Proxy has been released and is not useable\");\n    }\n}\nfunction releaseEndpoint(ep) {\n    return requestResponseMessage(ep, new Map(), {\n        type: \"RELEASE\" /* MessageType.RELEASE */,\n    }).then(() => {\n        closeEndPoint(ep);\n    });\n}\nconst proxyCounter = new WeakMap();\nconst proxyFinalizers = \"FinalizationRegistry\" in globalThis &&\n    new FinalizationRegistry((ep) => {\n        const newCount = (proxyCounter.get(ep) || 0) - 1;\n        proxyCounter.set(ep, newCount);\n        if (newCount === 0) {\n            releaseEndpoint(ep);\n        }\n    });\nfunction registerProxy(proxy, ep) {\n    const newCount = (proxyCounter.get(ep) || 0) + 1;\n    proxyCounter.set(ep, newCount);\n    if (proxyFinalizers) {\n        proxyFinalizers.register(proxy, ep, proxy);\n    }\n}\nfunction unregisterProxy(proxy) {\n    if (proxyFinalizers) {\n        proxyFinalizers.unregister(proxy);\n    }\n}\nfunction createProxy(ep, pendingListeners, path = [], target = function () { }) {\n    let isProxyReleased = false;\n    const proxy = new Proxy(target, {\n        get(_target, prop) {\n            throwIfProxyReleased(isProxyReleased);\n            if (prop === releaseProxy) {\n                return () => {\n                    unregisterProxy(proxy);\n                    releaseEndpoint(ep);\n                    pendingListeners.clear();\n                    isProxyReleased = true;\n                };\n            }\n            if (prop === \"then\") {\n                if (path.length === 0) {\n                    return { then: () => proxy };\n                }\n                const r = requestResponseMessage(ep, pendingListeners, {\n                    type: \"GET\" /* MessageType.GET */,\n                    path: path.map((p) => p.toString()),\n                }).then(fromWireValue);\n                return r.then.bind(r);\n            }\n            return createProxy(ep, pendingListeners, [...path, prop]);\n        },\n        set(_target, prop, rawValue) {\n            throwIfProxyReleased(isProxyReleased);\n            // FIXME: ES6 Proxy Handler `set` methods are supposed to return a\n            // boolean. To show good will, we return true asynchronously ¯\\_(ツ)_/¯\n            const [value, transferables] = toWireValue(rawValue);\n            return requestResponseMessage(ep, pendingListeners, {\n                type: \"SET\" /* MessageType.SET */,\n                path: [...path, prop].map((p) => p.toString()),\n                value,\n            }, transferables).then(fromWireValue);\n        },\n        apply(_target, _thisArg, rawArgumentList) {\n            throwIfProxyReleased(isProxyReleased);\n            const last = path[path.length - 1];\n            if (last === createEndpoint) {\n                return requestResponseMessage(ep, pendingListeners, {\n                    type: \"ENDPOINT\" /* MessageType.ENDPOINT */,\n                }).then(fromWireValue);\n            }\n            // We just pretend that `bind()` didn’t happen.\n            if (last === \"bind\") {\n                return createProxy(ep, pendingListeners, path.slice(0, -1));\n            }\n            const [argumentList, transferables] = processArguments(rawArgumentList);\n            return requestResponseMessage(ep, pendingListeners, {\n                type: \"APPLY\" /* MessageType.APPLY */,\n                path: path.map((p) => p.toString()),\n                argumentList,\n            }, transferables).then(fromWireValue);\n        },\n        construct(_target, rawArgumentList) {\n            throwIfProxyReleased(isProxyReleased);\n            const [argumentList, transferables] = processArguments(rawArgumentList);\n            return requestResponseMessage(ep, pendingListeners, {\n                type: \"CONSTRUCT\" /* MessageType.CONSTRUCT */,\n                path: path.map((p) => p.toString()),\n                argumentList,\n            }, transferables).then(fromWireValue);\n        },\n    });\n    registerProxy(proxy, ep);\n    return proxy;\n}\nfunction myFlat(arr) {\n    return Array.prototype.concat.apply([], arr);\n}\nfunction processArguments(argumentList) {\n    const processed = argumentList.map(toWireValue);\n    return [processed.map((v) => v[0]), myFlat(processed.map((v) => v[1]))];\n}\nconst transferCache = new WeakMap();\nfunction transfer(obj, transfers) {\n    transferCache.set(obj, transfers);\n    return obj;\n}\nfunction proxy(obj) {\n    return Object.assign(obj, { [proxyMarker]: true });\n}\nfunction windowEndpoint(w, context = globalThis, targetOrigin = \"*\") {\n    return {\n        postMessage: (msg, transferables) => w.postMessage(msg, targetOrigin, transferables),\n        addEventListener: context.addEventListener.bind(context),\n        removeEventListener: context.removeEventListener.bind(context),\n    };\n}\nfunction toWireValue(value) {\n    for (const [name, handler] of transferHandlers) {\n        if (handler.canHandle(value)) {\n            const [serializedValue, transferables] = handler.serialize(value);\n            return [\n                {\n                    type: \"HANDLER\" /* WireValueType.HANDLER */,\n                    name,\n                    value: serializedValue,\n                },\n                transferables,\n            ];\n        }\n    }\n    return [\n        {\n            type: \"RAW\" /* WireValueType.RAW */,\n            value,\n        },\n        transferCache.get(value) || [],\n    ];\n}\nfunction fromWireValue(value) {\n    switch (value.type) {\n        case \"HANDLER\" /* WireValueType.HANDLER */:\n            return transferHandlers.get(value.name).deserialize(value.value);\n        case \"RAW\" /* WireValueType.RAW */:\n            return value.value;\n    }\n}\nfunction requestResponseMessage(ep, pendingListeners, msg, transfers) {\n    return new Promise((resolve) => {\n        const id = generateUUID();\n        pendingListeners.set(id, resolve);\n        if (ep.start) {\n            ep.start();\n        }\n        ep.postMessage(Object.assign({ id }, msg), transfers);\n    });\n}\nfunction generateUUID() {\n    return new Array(4)\n        .fill(0)\n        .map(() => Math.floor(Math.random() * Number.MAX_SAFE_INTEGER).toString(16))\n        .join(\"-\");\n}\n\nexport { createEndpoint, expose, finalizer, proxy, proxyMarker, releaseProxy, transfer, transferHandlers, windowEndpoint, wrap };\n//# sourceMappingURL=comlink.mjs.map\n","var __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g = Object.create((typeof Iterator === \"function\" ? Iterator : Object).prototype);\n    return g.next = verb(0), g[\"throw\"] = verb(1), g[\"return\"] = verb(2), typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __values = (this && this.__values) || function(o) {\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\n    if (m) return m.call(o);\n    if (o && typeof o.length === \"number\") return {\n        next: function () {\n            if (o && i >= o.length) o = void 0;\n            return { value: o && o[i++], done: !o };\n        }\n    };\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\n};\nvar __read = (this && this.__read) || function (o, n) {\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\n    if (!m) return o;\n    var i = m.call(o), r, ar = [], e;\n    try {\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\n    }\n    catch (error) { e = { error: error }; }\n    finally {\n        try {\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\n        }\n        finally { if (e) throw e.error; }\n    }\n    return ar;\n};\nimportScripts('https://cdn.jsdelivr.net/pyodide/v0.26.2/full/pyodide.js');\nimport { expose } from 'comlink';\n// Monkey patch console.log to prevent the script from outputting logs\nif (self.location.hostname !== 'localhost') {\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    console.log = function () { };\n    // eslint-disable-next-line @typescript-eslint/no-empty-function\n    console.error = function () { };\n}\nvar pythonConsole;\nvar reactPyModule = {\n    getInput: function (id, prompt) {\n        var request = new XMLHttpRequest();\n        // Synchronous request to be intercepted by service worker\n        request.open('GET', \"/react-py-get-input/?id=\".concat(id, \"&prompt=\").concat(encodeURIComponent(prompt)), false);\n        request.send(null);\n        return request.responseText;\n    }\n};\nvar patchInputCode = function (id) { return \"\\nimport sys, builtins\\nimport react_py\\n__prompt_str__ = \\\"\\\"\\ndef get_input(prompt=\\\"\\\"):\\n    global __prompt_str__\\n    __prompt_str__ = prompt\\n    print(prompt, end=\\\"\\\")\\n    s = react_py.getInput(\\\"\".concat(id, \"\\\", prompt)\\n    print()\\n    return s\\nbuiltins.input = get_input\\nsys.stdin.readline = lambda: react_py.getInput(\\\"\").concat(id, \"\\\", __prompt_str__)\\n\"); };\nvar python = {\n    init: function (stdout, onLoad, mode, packages) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, micropip, id, version, initCode, namespace, initConsoleCode, reprShorten, banner, awaitFut, pyconsole, clearConsole;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        _a = self;\n                        return [4 /*yield*/, self.loadPyodide({ stdout: stdout })\n                            // Enable debug mode\n                            // self.pyodide.setDebug(true)\n                            // Always load pyodide-http package\n                        ];\n                    case 1:\n                        _a.pyodide = _b.sent();\n                        // Enable debug mode\n                        // self.pyodide.setDebug(true)\n                        // Always load pyodide-http package\n                        return [4 /*yield*/, self.pyodide.loadPackage(['pyodide-http'])\n                            // Load packages if provided\n                        ];\n                    case 2:\n                        // Enable debug mode\n                        // self.pyodide.setDebug(true)\n                        // Always load pyodide-http package\n                        _b.sent();\n                        if (!(packages && packages[0].length > 0)) return [3 /*break*/, 4];\n                        return [4 /*yield*/, self.pyodide.loadPackage(packages[0])];\n                    case 3:\n                        _b.sent();\n                        _b.label = 4;\n                    case 4:\n                        if (!(packages && packages[1].length > 0)) return [3 /*break*/, 7];\n                        return [4 /*yield*/, self.pyodide.loadPackage(['micropip'])];\n                    case 5:\n                        _b.sent();\n                        micropip = self.pyodide.pyimport('micropip');\n                        return [4 /*yield*/, micropip.install(packages[1])];\n                    case 6:\n                        _b.sent();\n                        _b.label = 7;\n                    case 7:\n                        id = self.crypto.randomUUID();\n                        version = self.pyodide.version;\n                        self.pyodide.registerJsModule('react_py', reactPyModule);\n                        initCode = \"\\nimport sys\\nimport pyodide_http\\n\\nsys.tracebacklimit = 0\\n\\npyodide_http.patch_all()\\n\";\n                        return [4 /*yield*/, self.pyodide.runPythonAsync(initCode)];\n                    case 8:\n                        _b.sent();\n                        if (!(mode === 'console')) return [3 /*break*/, 11];\n                        namespace = self.pyodide.globals.get('dict')();\n                        initConsoleCode = \"\\nimport sys\\nfrom pyodide.ffi import to_js\\nfrom pyodide.console import PyodideConsole, repr_shorten, BANNER\\nimport __main__\\nBANNER = \\\"Welcome to the Pyodide terminal emulator \\uD83D\\uDC0D\\\\n\\\" + BANNER\\npyconsole = PyodideConsole(__main__.__dict__)\\nimport builtins\\nasync def await_fut(fut):\\n  res = await fut\\n  if res is not None:\\n    builtins._ = res\\n  return to_js([res], depth=1)\\ndef clear_console():\\n  pyconsole.buffer = []\\n\";\n                        return [4 /*yield*/, self.pyodide.runPythonAsync(initConsoleCode, { globals: namespace })];\n                    case 9:\n                        _b.sent();\n                        reprShorten = namespace.get('repr_shorten');\n                        banner = namespace.get('BANNER');\n                        awaitFut = namespace.get('await_fut');\n                        pyconsole = namespace.get('pyconsole');\n                        clearConsole = namespace.get('clear_console');\n                        // eslint-disable-next-line camelcase\n                        pyconsole.stdout_callback = stdout;\n                        pythonConsole = {\n                            reprShorten: reprShorten,\n                            awaitFut: awaitFut,\n                            pyconsole: pyconsole,\n                            clearConsole: clearConsole\n                        };\n                        return [4 /*yield*/, self.pyodide.runPythonAsync(patchInputCode(id), {\n                                globals: namespace\n                            })];\n                    case 10:\n                        _b.sent();\n                        onLoad({ id: id, version: version, banner: banner });\n                        return [3 /*break*/, 13];\n                    case 11: return [4 /*yield*/, self.pyodide.runPythonAsync(patchInputCode(id))];\n                    case 12:\n                        _b.sent();\n                        onLoad({ id: id, version: version });\n                        _b.label = 13;\n                    case 13: return [2 /*return*/];\n                }\n            });\n        });\n    },\n    run: function (code, autoImportPackages) {\n        return __awaiter(this, void 0, void 0, function () {\n            var state, _a, _b, line, fut, wrapped, _c, value, error_1, message, e_1_1;\n            var e_1, _d;\n            return __generator(this, function (_e) {\n                switch (_e.label) {\n                    case 0:\n                        if (!autoImportPackages) return [3 /*break*/, 2];\n                        return [4 /*yield*/, self.pyodide.loadPackagesFromImports(code)];\n                    case 1:\n                        _e.sent();\n                        _e.label = 2;\n                    case 2:\n                        if (!pythonConsole) return [3 /*break*/, 14];\n                        if (!pythonConsole) {\n                            throw new Error('Console has not been initialised');\n                        }\n                        if (code === undefined) {\n                            throw new Error('No code to push');\n                        }\n                        state = void 0;\n                        _e.label = 3;\n                    case 3:\n                        _e.trys.push([3, 11, 12, 13]);\n                        _a = __values(code.split('\\n')), _b = _a.next();\n                        _e.label = 4;\n                    case 4:\n                        if (!!_b.done) return [3 /*break*/, 10];\n                        line = _b.value;\n                        fut = pythonConsole.pyconsole.push(line);\n                        state = fut.syntax_check;\n                        wrapped = pythonConsole.awaitFut(fut);\n                        _e.label = 5;\n                    case 5:\n                        _e.trys.push([5, 7, 8, 9]);\n                        return [4 /*yield*/, wrapped];\n                    case 6:\n                        _c = __read.apply(void 0, [_e.sent(), 1]), value = _c[0];\n                        if (value instanceof self.pyodide.ffi.PyProxy) {\n                            value.destroy();\n                        }\n                        return [3 /*break*/, 9];\n                    case 7:\n                        error_1 = _e.sent();\n                        if (error_1.constructor.name === 'PythonError') {\n                            message = fut.formatted_error || error_1.message;\n                            return [2 /*return*/, { state: state, error: message.trimEnd() }];\n                        }\n                        else {\n                            throw error_1;\n                        }\n                        return [3 /*break*/, 9];\n                    case 8:\n                        fut.destroy();\n                        wrapped.destroy();\n                        return [7 /*endfinally*/];\n                    case 9:\n                        _b = _a.next();\n                        return [3 /*break*/, 4];\n                    case 10: return [3 /*break*/, 13];\n                    case 11:\n                        e_1_1 = _e.sent();\n                        e_1 = { error: e_1_1 };\n                        return [3 /*break*/, 13];\n                    case 12:\n                        try {\n                            if (_b && !_b.done && (_d = _a.return)) _d.call(_a);\n                        }\n                        finally { if (e_1) throw e_1.error; }\n                        return [7 /*endfinally*/];\n                    case 13: return [2 /*return*/, { state: state }];\n                    case 14: return [4 /*yield*/, self.pyodide.runPythonAsync(code)];\n                    case 15:\n                        _e.sent();\n                        _e.label = 16;\n                    case 16: return [2 /*return*/];\n                }\n            });\n        });\n    },\n    readFile: function (name) {\n        return self.pyodide.FS.readFile(name, { encoding: 'utf8' });\n    },\n    writeFile: function (name, data) {\n        return self.pyodide.FS.writeFile(name, data, { encoding: 'utf8' });\n    },\n    mkdir: function (name) {\n        self.pyodide.FS.mkdir(name);\n    },\n    rmdir: function (name) {\n        self.pyodide.FS.rmdir(name);\n    }\n};\nexpose(python);\n"],"names":["proxyMarker","Symbol","createEndpoint","releaseProxy","finalizer","throwMarker","isObject","val","proxyTransferHandler","canHandle","serialize","obj","port1","port2","MessageChannel","expose","deserialize","port","start","ep","pendingListeners","Map","addEventListener","ev","data","id","resolver","get","delete","createProxy","wrap","transferHandlers","value","serialized","Error","isError","message","name","stack","Object","assign","globalThis","allowedOrigins","callback","origin","allowedOrigin","RegExp","test","isAllowedOrigin","console","warn","type","path","argumentList","map","fromWireValue","returnValue","parent","slice","reduce","prop","rawValue","apply","proxy","transfers","transferCache","set","transfer","undefined","Promise","resolve","catch","then","wireValue","transferables","toWireValue","postMessage","removeEventListener","closeEndPoint","error","TypeError","endpoint","constructor","isMessagePort","close","throwIfProxyReleased","isReleased","releaseEndpoint","requestResponseMessage","proxyCounter","WeakMap","proxyFinalizers","FinalizationRegistry","newCount","target","isProxyReleased","Proxy","_target","unregister","unregisterProxy","clear","length","r","p","toString","bind","_thisArg","rawArgumentList","last","processArguments","construct","register","registerProxy","processed","v","arr","Array","prototype","concat","handler","serializedValue","msg","fill","Math","floor","random","Number","MAX_SAFE_INTEGER","join","pythonConsole","__awaiter","thisArg","_arguments","P","generator","reject","fulfilled","step","next","e","rejected","result","done","__generator","body","f","y","t","_","label","sent","trys","ops","g","create","Iterator","verb","iterator","this","n","op","call","pop","push","__read","o","m","i","ar","importScripts","self","location","hostname","log","reactPyModule","getInput","prompt","request","XMLHttpRequest","open","encodeURIComponent","send","responseText","patchInputCode","init","stdout","onLoad","mode","packages","_a","version","namespace","reprShorten","banner","awaitFut","pyconsole","clearConsole","_b","loadPyodide","pyodide","loadPackage","pyimport","install","crypto","randomUUID","registerJsModule","runPythonAsync","globals","stdout_callback","run","code","autoImportPackages","state","line","fut","wrapped","_c","error_1","e_1_1","e_1","_d","_e","loadPackagesFromImports","s","__values","split","syntax_check","ffi","PyProxy","destroy","formatted_error","trimEnd","return","readFile","FS","encoding","writeFile","mkdir","rmdir"],"ignoreList":[],"sourceRoot":""}